<!doctype html>
<html lang="en">

    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

        <link rel="stylesheet" href="styles.css">
        <title>iPlus Code</title>
    </head>

    <body>


        <!--Navbar code-->

        <!-- Image and text -->
        <nav class="navbar navbar-dark bg-dark">
            <a class="navbar-brand" href="#">
                <img src="/static/icodelogo.png" width="70" height="30" class="d-inline-block align-top" alt="">
                iPlus Code
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                    <li class="nav-item dropdown active">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Topics
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="/blog1">CS50x</a>
                            <a class="dropdown-item" href="#">Technology</a>
                            <a class="dropdown-item" href="#">Competitive Programming</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Support and Follow</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contact Us</a>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link" href="/add">Add Post</a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto mt-2">
                    <li class="nav-item"><a class="nav-link" href="/logout">Log Out</a></li>
                </ul>
            </div>
        </nav>

        <!---->
        <main role="main" class="container">
            <div class="row">
                <div class="col-md-8 blog-main">

                    <div class="blog-post">
                        <h2 class="blog-post-title">CS50 PSet Filter(more) : filter.c</h2>
                        <p class="blog-post-meta">April 16, 2024 by <a href="#">Vivek</a></p>

                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-outline-secondary" onclick="document.location='/blog1'">First</button>
                            <button type="button" class="btn btn-outline-secondary active" onclick="document.location='/filter_c'">Second</button>
                            <button type="button" class="btn btn-outline-secondary" onclick="document.location='/helper_c'">Last</button>
                        </div>

                        <p class="has-line-data" data-line-start="0" data-line-end="1">In this post, we continue our series
                            with a more detailed look at the filter.c file, while breaking down its key components and
                            functionality.</p>
                        <p class="has-line-data" data-line-start="2" data-line-end="3">The filter.c file is part of the
                            “Filter” problem set in CS50. It’s a program that applies filters to bitmap images. The file
                            contains a main function that handles the command-line arguments and calls the appropriate
                            filter function. The actual implementation of the filters is done in the helpers.c file.</p>
                        <p class="has-line-data" data-line-start="4" data-line-end="5">Now, when we open up filter.c. We see
                            that this file has already been written for us, but it’s still important to know the inner
                            workings of this code.</p>
                        <p class="has-line-data" data-line-start="6" data-line-end="7">Now this code roughly performs these
                            functions:</p>
                        <ul>
                            <li class="has-line-data" data-line-start="7" data-line-end="9">
                                <p class="has-line-data" data-line-start="7" data-line-end="8">Firstly it handles the
                                    command-line arguments, checks for correct usage, and opens the input and output image
                                    files.</p>
                            </li>
                            <li class="has-line-data" data-line-start="9" data-line-end="11">
                                <p class="has-line-data" data-line-start="9" data-line-end="10">Then it reads the bitmap
                                    file into a 2D array of RGBTRIPLEs, which is a data structure defined in the bmp.h
                                    header file. Each RGBTRIPLE represents a pixel in the image.</p>
                            </li>
                            <li class="has-line-data" data-line-start="11" data-line-end="13">
                                <p class="has-line-data" data-line-start="11" data-line-end="12">Then, it calls the
                                    appropriate filter function based on the command-line arguments. Which is written in
                                    helpers.c file, which we write as part of the problem set.</p>
                            </li>
                            <li class="has-line-data" data-line-start="13" data-line-end="15">
                                <p class="has-line-data" data-line-start="13" data-line-end="14">After the filter has been
                                    applied to the image, it writes the 2D array back to a bitmap file, creating the output
                                    image.</p>
                            </li>
                        </ul>
                        <p class="has-line-data" data-line-start="15" data-line-end="16">Now let us discuss the code in
                            detail :</p>
                        <h2 class="code-line" data-line-start=17 data-line-end=18><a id="Ensure_Proper_Syntax_of_CLA_17"></a>Ensure Proper Syntax of CLA.</h2>
                        <h3 class="code-line" data-line-start=20 data-line-end=21><a id="CommandLine_Filter_Flag_Validation_20"></a>Command-Line Filter Flag Validation</h3>
                        <pre><code class="has-line-data" data-line-start="23" data-line-end="35">    // Define allowable filters
                          char *filters = &quot;begr&quot;;

                          // Get filter flag and check validity
                          char filter = getopt(argc, argv, filters);
                          if (filter == '?')
                          {
                              printf(&quot;Invalid filter.\n&quot;);
                              return 1;
                          }

                      </code></pre>
                        <ul>
                            <li class="has-line-data" data-line-start="35" data-line-end="36">
                                <code>char *filters = &quot;begr&quot;;</code> This line defines the filters that are
                                allowed in the command line.
                            </li>
                            <li class="has-line-data" data-line-start="36" data-line-end="37">
                                <code>char filter = getopt(argc, argv, filters);</code> This line calls the getopt function,
                                which analyzes the command-line arguments. The arguments for this function are argc, argv,
                                and the string of allowable filters.
                            </li>
                            <li class="has-line-data" data-line-start="37" data-line-end="39">
                                <code>if (filter == '?')</code> This line checks if the returned value from getopt is ‘?’.
                                If getopt encounters a character that is not included in the allowable options, it returns
                                ‘?’.
                            </li>
                        </ul>
                        <p class="has-line-data" data-line-start="39" data-line-end="40"><strong>Example:</strong></p>
                        <p class="has-line-data" data-line-start="41" data-line-end="42">The arguments are filters that can
                            be ‘b’, ‘e’, ‘g’, or ‘r’.</p>
                        <p class="has-line-data" data-line-start="43" data-line-end="44">Let the command be:
                            <code>./program -b</code>
                        </p>
                        <p class="has-line-data" data-line-start="45" data-line-end="46">In this case, <code>argc</code>
                            would be 2 (the program name and the ‘-b’ argument), and <code>argv</code> would be an array
                            containing “./program” and “-b”.</p>
                        <p class="has-line-data" data-line-start="47" data-line-end="48">When
                            <code>getopt(argc, argv, filters)</code> is called, it will** return the character ‘b’** because
                            ‘-b’ is a valid command-line argument according to the <code>filters</code> string. So,
                            <code>filter</code> would be ‘b’.
                        </p>
                        <p class="has-line-data" data-line-start="49" data-line-end="50">If the command is:
                            <code>./program -x</code>, <code>getopt</code> would return ‘?’ because ‘-x’ is not a valid
                            argument according to <code>filters</code>, and <code>filter</code> would be ‘?’.
                        </p>
                        <h3 class="code-line" data-line-start=51 data-line-end=52><a id="Checking_for_Multiple_Filter_Flags_51"></a>Checking for Multiple Filter Flags</h3>
                        <pre><code class="has-line-data" data-line-start="54" data-line-end="60">    if (getopt(argc, argv, filters) != -1)
                          {
                              printf(&quot;Only one filter allowed.\n&quot;);
                              return 1;
                          }
                      </code></pre>
                        <p class="has-line-data" data-line-start="60" data-line-end="61">The <code>getopt</code> function is
                            called again. If it returns anything other than -1, it means there’s another command-line
                            argument present._ <code>-1</code> is returned by <code>getopt</code> when it has finished
                            processing all the command-line options._</p>
                        <p class="has-line-data" data-line-start="62" data-line-end="64">&lt;u&gt;Example 1 &lt;/u&gt;:
                            input <code>./program -b infile outfile</code>, the code recognizes ‘-b’ as a valid filter and
                            confirms that there is only one filter provided.<br>
                            &lt;u&gt;Example 2&lt;/u&gt;: if we run your program: <code>./program -b -g</code>,
                            <code>getopt</code> will not return <code>-1</code> after processing <code>-b</code> because
                            there’s another argument <code>-g</code>. The ‘if’ condition will be true, and the program will
                            print “Only one filter allowed.” and return 1, indicating an error.
                        </p>
                        <p class="has-line-data" data-line-start="65" data-line-end="66">This code ensures that only one
                            filter can be used at a time. If more than one is provided, it’s considered an error.</p>
                        <h3 class="code-line" data-line-start=67 data-line-end=68><a id="Ensure_infile_outfile_in_syntax_67"></a>Ensure infile, outfile in syntax</h3>
                        <pre><code class="has-line-data" data-line-start="70" data-line-end="77">    // Ensure proper usage
                          if (argc != optind + 2)
                          {
                              printf(&quot;Usage: ./filter [flag] infile outfile\n&quot;);
                              return 1;
                          }
                      </code></pre>
                        <ul>
                            <li class="has-line-data" data-line-start="78" data-line-end="80"><code>argc</code> is the count
                                of command-line arguments, including the program name. <code>optind</code> is a variable
                                from the getopt library that represents the index of the next argument to be processed.</li>
                        </ul>
                        <p class="has-line-data" data-line-start="80" data-line-end="81">The condition
                            <code>argc != optind + 2</code> checks if the number of arguments is not equal to the number of
                            already processed arguments (<code>optind</code>) plus 2. The ‘+2’ accounts for the ‘infile’ and
                            ‘outfile’ that should follow the filter flag.
                        </p>
                        <p class="has-line-data" data-line-start="82" data-line-end="83">For example, if we run program:
                            <code>./program -b infile outfile</code>, the value of <code>argc</code> would be 4, and of
                            <code>optind</code> would be 2 (after processing ‘-b’), therefore value of
                            <code>optind + 2</code> would be 4. Thus the condition would be false, and the program would
                            skip.
                        </p>
                        <p class="has-line-data" data-line-start="84" data-line-end="85">If we run program:
                            <code>./program -b infile</code>, the value of <code>argc</code> would be 3, and the value of
                            <code>optind</code> would still be 2, but the value of <code>optind + 2</code> would be 4. Thus
                            the condition would be true, the program would print “Usage: ./filter [flag] infile outfile”,
                            and return 1, indicating an error.
                        </p>
                        <h2 class="code-line" data-line-start=86 data-line-end=87><a id="Loading_Files_86"></a>Loading Files
                        </h2>
                        <h3 class="code-line" data-line-start=88 data-line-end=89><a id="Assigning_Input_and_Output_File_Names_88"></a>Assigning Input and Output File Names</h3>
                        <pre><code class="has-line-data" data-line-start="91" data-line-end="95">    // Assigning Input and Output File Names from Command-Line Arguments
                          char *infile = argv[optind];
                          char *outfile = argv[optind + 1];
                      </code></pre>
                        <ul>
                            <li class="has-line-data" data-line-start="95" data-line-end="97">./program -b infile outfile,
                                argc : optind is the index of the next argument to be processed by getopt.argv[optind] would
                                be the argument right after the last processed option, which should be the input file name
                                (‘infile’) in this case.</li>
                        </ul>
                        <h3 class="code-line" data-line-start=97 data-line-end=98><a id="Opening_Input_and_Output_File_97"></a>Opening Input and Output File</h3>
                        <pre><code class="has-line-data" data-line-start="100" data-line-end="116">    // Open input file
                          FILE *inptr = fopen(infile, &quot;r&quot;);
                                 -----

                              // Open output file
                          FILE *outptr = fopen(outfile, &quot;w&quot;);
                                -----

                          // Read infile's BITMAPFILEHEADER
                          BITMAPFILEHEADER bf;
                          fread(&amp;bf, sizeof(BITMAPFILEHEADER), 1, inptr);

                          // Read infile's BITMAPINFOHEADER
                          BITMAPINFOHEADER bi;
                          fread(&amp;bi, sizeof(BITMAPINFOHEADER), 1, inptr);
                      </code></pre>
                        <p class="has-line-data" data-line-start="116" data-line-end="117">The above code opens the
                            input/output file; and returns 1 if the file is not found. Else it reads the header files from
                            bmp.h.</p>
                        <h3 class="code-line" data-line-start=118 data-line-end=119><a id="Validating_BMP_File_Format_118"></a>Validating BMP File Format</h3>
                        <pre><code class="has-line-data" data-line-start="120" data-line-end="130">    // Ensure infile is (likely) a 24-bit uncompressed BMP 4.0
                          if (bf.bfType != 0x4d42 || bf.bfOffBits != 54 || bi.biSize != 40 ||
                              bi.biBitCount != 24 || bi.biCompression != 0)
                          {
                              fclose(outptr);
                              fclose(inptr);
                              printf(&quot;Unsupported file format.\n&quot;);
                              return 6;
                          }
                      </code></pre>
                        <ul>
                            <li class="has-line-data" data-line-start="130" data-line-end="132">
                                <p class="has-line-data" data-line-start="130" data-line-end="131">
                                    <code>bf.bfType != 0x4d42</code> checks if the file type is not ‘BM’ (0x4d42 is the
                                    hexadecimal representation of ‘BM’).
                                </p>
                            </li>
                            <li class="has-line-data" data-line-start="132" data-line-end="134">
                                <p class="has-line-data" data-line-start="132" data-line-end="133">
                                    <code>bf.bfOffBits != 54</code> checks if the offset to the bitmap data is not 54 bytes.
                                </p>
                            </li>
                            <li class="has-line-data" data-line-start="134" data-line-end="136">
                                <p class="has-line-data" data-line-start="134" data-line-end="135">
                                    <code>bi.biSize != 40</code> checks if the size of the info header is not 40 bytes.
                                </p>
                            </li>
                            <li class="has-line-data" data-line-start="136" data-line-end="138">
                                <p class="has-line-data" data-line-start="136" data-line-end="137">
                                    <code>bi.biBitCount != 24</code> checks if the bitmap is not 24-bit.
                                </p>
                            </li>
                            <li class="has-line-data" data-line-start="138" data-line-end="140">
                                <p class="has-line-data" data-line-start="138" data-line-end="139">
                                    <code>bi.biCompression != 0</code> checks if the bitmap is not uncompressed.
                                </p>
                            </li>
                        </ul>
                        <p class="has-line-data" data-line-start="140" data-line-end="141">If any of these conditions are
                            true, it means the file is not a 24-bit uncompressed BMP 4.0 file</p>
                        <p class="has-line-data" data-line-start="142" data-line-end="143">###Get image’s dimensions</p>
                        <pre><code class="has-line-data" data-line-start="145" data-line-end="149">// Get image's dimensions
                          int height = abs(bi.biHeight);
                          int width = bi.biWidth;
                      </code></pre>
                        <p class="has-line-data" data-line-start="149" data-line-end="150">This code retrieves the
                            dimensions of the image from the bitmap info header.</p>
                        <p class="has-line-data" data-line-start="151" data-line-end="153"><code>bi.biHeight</code> gives
                            the height of the image in pixels. It can be negative, depending on the orientation of the
                            image. Therefore we<br>
                            take the absolute value to ensure the height is always positive.</p>
                        <p class="has-line-data" data-line-start="154" data-line-end="155"><code>bi.biWidth</code> (defined
                            in bmp.h file )gives the width of the image in pixels.</p>
                        <p class="has-line-data" data-line-start="156" data-line-end="157">For example, if the bitmap image
                            is 800 pixels wide and 600 pixels high, <code>bi.biWidth</code> would be 800 and
                            <code>bi.biHeight</code> would be 600 (or -600, depending on orientation), so
                            <code>height</code> would be 600 and <code>width</code> would be 800.
                        </p>
                        <h3 class="code-line" data-line-start=158 data-line-end=159><a id="Memory_allocation_for_the_image_158"></a>Memory allocation for the image</h3>
                        <pre><code class="has-line-data" data-line-start="161" data-line-end="171">    // Allocate memory for image
                          RGBTRIPLE(*image)[width] = calloc(height, width * sizeof(RGBTRIPLE));
                          if (image == NULL)
                          {
                              printf(&quot;Not enough memory to store image.\n&quot;);
                              fclose(outptr);
                              fclose(inptr);
                              return 1;
                          }
                      </code></pre>
                        <p class="has-line-data" data-line-start="171" data-line-end="172">This code allocates memory to
                            store the image data.</p>
                        <p class="has-line-data" data-line-start="173" data-line-end="174">
                            <code>RGBTRIPLE(*image)[width] = calloc(height, width * sizeof(RGBTRIPLE));</code> is declaring
                            a pointer to an array of <code>RGBTRIPLE</code>s (which represent pixels) and allocating memory
                            for <code>height</code> rows of <code>width</code> pixels each._ <code>calloc</code> initializes
                            the allocated memory to zero._
                        </p>
                        <p class="has-line-data" data-line-start="175" data-line-end="176">If <code>calloc</code> returns
                            <code>NULL</code>.It means there was not enough memory to store the image, so the program prints
                            an error message, closes the input and output files, and returns 1.
                        </p>
                        <p class="has-line-data" data-line-start="177" data-line-end="178">For example, if your image is 800
                            pixels wide and 600 pixels high, this code would allocate memory for 600 rows of 800
                            <code>RGBTRIPLE</code>s each. If there is not enough memory to do this, the program would print
                            “Not enough memory to store image.” and terminate.
                        </p>
                        <h2 class="code-line" data-line-start=179 data-line-end=180><a id="Padding_179"></a>Padding</h2>
                        <pre><code class="has-line-data" data-line-start="182" data-line-end="192">    // Allocate memory for image
                          RGBTRIPLE(*image)[width] = calloc(height, width * sizeof(RGBTRIPLE));
                          if (image == NULL)
                          {
                              printf(&quot;Not enough memory to store image.\n&quot;);
                              fclose(outptr);
                              fclose(inptr);
                              return 1;
                          }
                      </code></pre>
                        <p class="has-line-data" data-line-start="192" data-line-end="193">This line of code is calculating
                            the amount of padding needed for each row (scanline) of the image.</p>
                        <p class="has-line-data" data-line-start="194" data-line-end="195">For example: If the Image is 5
                            pixels (15 bytes) wide(it would need 1 byte of padding in each row).So that it can be 16 bytes
                            wide.</p>
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>BGR</th>
                                    <th>BGR</th>
                                    <th>BGR</th>
                                    <th>BGR</th>
                                    <th>BGR</th>
                                    <th>0</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>BGR</td>
                                    <td>0</td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="has-line-data" data-line-start="203" data-line-end="204">Each row must be a multiple of 4
                            bytes in a bitmap file. If the width of the image in bytes
                            (<code>width * sizeof(RGBTRIPLE)</code>) is not a multiple of 4, some padding bytes (extra bytes
                            of value 0) need to be added to the end of <strong>each row</strong> to make it a multiple of 4.
                        </p>
                        <p class="has-line-data" data-line-start="205" data-line-end="206">
                            <code>(width * sizeof(RGBTRIPLE)) % 4</code> calculates the remainder when the width of the
                            image in bytes is divided by 4. If this is 0, no padding is needed. Else
                            <code>4 - (width * sizeof(RGBTRIPLE)) % 4</code> calculates how many bytes of padding are
                            needed. The <code>% 4</code> at the end is to handle the case where no padding is needed (it
                            ensures the padding is 0 in this case).
                        </p>
                        <p class="has-line-data" data-line-start="207" data-line-end="208">For example, if the image is 5
                            pixels (15 bytes) wide, <code>(width * sizeof(RGBTRIPLE)) % 4</code> would be 3, so
                            <code>4 - (width * sizeof(RGBTRIPLE)) % 4</code> would be 1, meaning 1 byte of padding is needed
                            for each row. If your image is 4 pixels (12 bytes) wide,
                            <code>(width * sizeof(RGBTRIPLE)) % 4</code> would be 0, so
                            <code>4 - (width * sizeof(RGBTRIPLE)) % 4</code> would be 4, but the <code>% 4</code> at the end
                            would make the padding 0 .
                        </p>
                        <h3 class="code-line" data-line-start=209 data-line-end=210><a id="Why_do_padding_209"></a>Why do
                            padding?</h3>
                        <p class="has-line-data" data-line-start="211" data-line-end="212">The requirement for BMP rows to
                            be a multiple of 4 bytes is due to the way computers handle data.</p>
                        <p class="has-line-data" data-line-start="213" data-line-end="214">Computers often read data from
                            memory in chunks of 4 bytes (32 bits) at a time. By ensuring each row aligns with these 4-byte
                            boundaries, the computer can read the image data more efficiently.</p>
                        <p class="has-line-data" data-line-start="215" data-line-end="216">This is known as <strong>“byte
                            alignment” or “data structure alignment”.</strong></p>
                        <p class="has-line-data" data-line-start="217" data-line-end="218">If the rows weren’t padded to be
                            a multiple of 4 bytes, the computer might need extra read operations, which could slow down the
                            process of reading the image data.</p>
                        <h2 class="code-line" data-line-start=219 data-line-end=220><a id="Reading_Pixels_from_BMP_File_219"></a>Reading Pixels from BMP File</h2>
                        <pre><code class="has-line-data" data-line-start="222" data-line-end="232">    // Iterate over infile's scanlines
                          for (int i = 0; i &lt; height; i++)
                          {
                              // Read row into pixel array
                              fread(image[i], sizeof(RGBTRIPLE), width, inptr);

                              // Skip over padding
                              fseek(inptr, padding, SEEK_CUR);
                          }
                      </code></pre>
                        <p class="has-line-data" data-line-start="232" data-line-end="233">This code reads the image data
                            from a BMP file.</p>
                        <p class="has-line-data" data-line-start="234" data-line-end="235">The <code>for</code> loop
                            iterates over each row of the image. For each row,
                            <code>fread(image[i], sizeof(RGBTRIPLE), width, inptr);</code> reads <code>width</code> pixels
                            from the input file into the <code>image[i]</code> array.
                        </p>
                        <p class="has-line-data" data-line-start="236" data-line-end="237"><code>fseek</code> is a function
                            that is used to change the position of the file pointer in a file. It takes three arguments: a
                            file pointer, an offset (number of bytes), and a position from where the offset is added.</p>
                        <p class="has-line-data" data-line-start="238" data-line-end="239">In
                            <code>fseek(inptr, padding, SEEK_CUR);</code>, <code>inptr</code> is the file pointer,
                            <code>padding</code> is the offset (is the number of bytes that the file pointer should move
                            from its current position.), and <code>SEEK_CUR</code> is the position from where the offset is
                            added.
                        </p>
                        <p class="has-line-data" data-line-start="240" data-line-end="241"><code>SEEK_CUR</code> is a
                            constant defined in the library that specifies that the offset provided should be added to the
                            current position of the file pointer.</p>
                        <p class="has-line-data" data-line-start="242" data-line-end="243">So,
                            <code>fseek(inptr, padding, SEEK_CUR);</code> moves the file pointer <code>padding</code> bytes
                            forward from its current position. This is used to skip over the padding bytes at the end of
                            each row of the image. If there is no padding, the file pointer doesn’t move.
                        </p>
                        <h2 class="code-line" data-line-start=244 data-line-end=245><a id="Filter_244"></a>Filter</h2>
                        <pre><code class="has-line-data" data-line-start="247" data-line-end="249">    switch (filter):
                      </code></pre>
                        <p class="has-line-data" data-line-start="249" data-line-end="250">The above code calls the
                            appropriate filter function based on the command-line arguments. The actual implementation of
                            the filters is done in the helpers.c file.</p>
                        <h2 class="code-line" data-line-start=251 data-line-end=252><a id="save_251"></a>save</h2>
                        <p class="has-line-data" data-line-start="252" data-line-end="253">After the filter has been applied
                            to the image, the rest of the code writes the 2D array back to a bitmap file, creating the
                            output image using fwrite function.</p>
                        <ul>
                            <li class="has-line-data" data-line-start="254" data-line-end="256">In the end, we free up the
                                memory that was previously allocated to the image variable and close the input and output
                                files that were previously opened.</li>
                        </ul>
                        <hr>
                        <p class="has-line-data" data-line-start="258" data-line-end="259">In the next blog post, we will
                            discuss about helper.c file. See you there! In the meantime continue to code with passion. 🚀
                        </p>
                        <p class="has-line-data" data-line-start="260" data-line-end="261">As a novice writer, I’m eager to
                            learn and improve. Should you spot any errors, I warmly welcome your insights in the comments
                            below. Your feedback is invaluable to me.</p>
                        <p class="has-line-data" data-line-start="262" data-line-end="263">My code :</p>
                        <p class="has-line-data" data-line-start="264" data-line-end="265"><a href="https://github.com/vivekvohra/filter">github.com/vivekvohra/filter</a> </p>
                    </div><!-- /.blog-post -->

                    <nav class="blog-pagination">
                        <a class="btn btn-outline-primary" href="/blog1">Previous</a>
                        <a class="btn btn-outline-primary" href="/helper_c">Next</a>
                    </nav>

                </div><!-- /.blog-main -->

                <aside class="col-md-4 blog-sidebar">
                    <div class="p-4 mb-3 bg-light rounded">
                        <h4 class="font-italic">About</h4>
                        <p class="mb-0">I am a pre-final year student at TIET. I am passionate about using technology to
                            solve real-world problems. I have experience programming in Python and C++.</p>
                        <p><strong>Location</strong> : India</p>
                        <p><strong>Education</strong> : TIET</p>
                        <p><strong>Pronouns</strong> : He/Him</p>
                        <p><strong>Email</strong> : vivekvohra1102@gmail.com</p>
                        <p><strong>Date</strong> : May, 2024</p>






                    </div>


                    <div class="p-4">
                        <h4 class="font-italic">Follow me</h4>
                        <ol class="list-unstyled">
                            <li><a href="https://github.com/vivekvohra" target="_balnk">GitHub</a></li>
                            <li><a href="https://x.com/VivekVohra1102" target="_balnk">Twitter</a></li>
                            <li><a href="https://www.linkedin.com/in/vivek-vohra-11316a24a/" target="_balnk">Linkedin</a></li>
                            <li><a href="https://codeforces.com/profile/vvk_1102" target="_balnk">Codeforces</a></li>
                            <li><a href="https://leetcode.com/u/vivekvohra/" target="_balnk">Leetcode</a></li>
                            <li><a href="https://dev.to/vivekvohra" target="_balnk">Dev</a></li>
                        </ol>
                    </div>
                </aside><!-- /.blog-sidebar -->

            </div><!-- /.row -->

        </main>




        <!-- footer -->
        <footer class="container">
            <p class="float-right"><a href="#">Back to top</a></p>
            <p>© 2024-2030 iPlus Code </p>
        </footer>



        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

        <!-- Option 2: Separate Popper and Bootstrap JS -->
        <!--
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    -->
    </body>

</html>
